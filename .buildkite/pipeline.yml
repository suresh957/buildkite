steps:
  - block: "Select CartLink"
    fields:
      - select: "Cart-Link"
        key: "cartlink"
        hint: "Select Cartlink to flash."
        options:
          - label: "raspi-aa-000001"
            value: "raspi-aa-000001"
          - label: "raspi-aa-000002"
            value: "raspi-aa-000002"
          - label: "raspi-aa-000003"
            value: "raspi-aa-000003"
          - label: "raspi-aa-000004"
            value: "raspi-aa-000004"
          - label: "raspi-aa-000005"
            value: "raspi-aa-000005"
          - label: "raspi-aa-000006"
            value: "raspi-aa-000006"
          - label: "raspi-aa-000007"
            value: "raspi-aa-000007"
          - label: "raspi-aa-000008"
            value: "raspi-aa-000008"

  - block: ":closed_lock_with_key: CartLink"
    prompt: ":warning: Please make sure you selected the cart link to flash the unit :warning:"

  - block: "Select Unit"
    fields:
      - select: "Unit"
        key: "device"
        hint: "Select Device to flash."
        options:
          - label: "ADL"
            value: "adl"
          - label: "ADR"
            value: "adr"
          - label: "Maint"
            value: "maint"
          - label: "Tablet"
            value: "tablet"

  - label: ":pipeline:"
    command: |
       export CARTLINK="$$(buildkite-agent meta-data get cartlink)"
       export DEVICE="$$(buildkite-agent meta-data get device)"
       buildkite-agent pipeline upload $BUILDKITE_BUILD_CHECKOUT_PATH/.buildkite/pipeline.device.yml

